import{f as c,a as p,s as d,e as Yt}from"../chunks/cBq-ohnL.js";import"../chunks/COK-7Bwt.js";import{p as Et,t as m,a as Gt,c as s,s as o,r,u as i,g as a,m as Ht,h as ht,d as C,f as Jt,n as Kt}from"../chunks/DqzcrQiP.js";import{i as y}from"../chunks/DcRTBZQz.js";import{e as bt,i as yt}from"../chunks/B1R7E2ux.js";import{s as U}from"../chunks/DYolmTxR.js";import{s as wt,c as Lt}from"../chunks/Yz2bDJui.js";import{i as Ot}from"../chunks/T0XUoNZi.js";import{a as Qt,s as Tt}from"../chunks/C_SZ09rI.js";import{p as Vt}from"../chunks/Bfb0wUtY.js";import{e as $t}from"../chunks/CJRv7V1-.js";import{m as kt}from"../chunks/C8_bg-1c.js";import{a as L,d as O}from"../chunks/BMmDbtGk.js";import{b as it}from"../chunks/D7rpu2gn.js";import{C as Dt}from"../chunks/C4G-7Oy4.js";var Wt=c('<img class="w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-md mb-4"/>'),Xt=c('<img alt="No photo" class="w-32 h-32 rounded-full object-cover border-4 border-blue-200 shadow-md mb-4"/>'),Zt=c('<button class="ml-2 text-blue-600 hover:underline text-sm font-medium"> </button>'),te=c('<div class="max-w-2xl text-center text-gray-700 mb-4"><span> </span> <!></div>'),ee=c('<div class="max-w-2xl text-center text-gray-400 mb-4 italic">No biography available.</div>'),ae=c('<th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Budget</th> <th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Revenue</th>',1),re=c('<td class="px-4 py-2 whitespace-nowrap text-gray-600"> </td> <td class="px-4 py-2 whitespace-nowrap text-gray-600"> </td>',1),se=c('<tr class="hover:bg-gray-50"><td class="px-4 py-2 whitespace-nowrap"><a class="text-blue-600 hover:text-blue-800 font-medium"> </a></td><td class="px-4 py-2 whitespace-nowrap text-gray-600"> </td><td class="px-4 py-2 whitespace-nowrap"><span> </span></td><td class="px-4 py-2 whitespace-nowrap"><!></td><td class="px-4 py-2 whitespace-nowrap text-gray-600"> </td><!></tr>'),ne=c('<span class="flex items-center"><span class="font-medium">Budget:</span> <span class="ml-1"> </span></span>'),ie=c('<span class="flex items-center"><span class="font-medium">Revenue:</span> <span class="ml-1"> </span></span>'),oe=c('<div class="bg-white/90 rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow duration-200"><div class="flex justify-between items-start mb-2"><a class="text-blue-700 hover:text-blue-900 font-semibold text-lg leading-tight flex-1 mr-2"> </a> <!></div> <div class="flex flex-wrap gap-3 text-sm text-gray-600 mb-2"><span class="flex items-center"><span class="font-medium">Year:</span> <span class="ml-1"> </span></span> <span class="flex items-center"><span class="font-medium">Role:</span> <span class="ml-1"> </span></span> <span class="flex items-center"><span class="font-medium">Runtime:</span> <span class="ml-1"> </span></span> <!> <!></div></div>'),le=c('<div class="hidden lg:block overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Movie</th><th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Year</th><th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Role</th><th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Rating</th><th class="px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Runtime</th><!></tr></thead><tbody class="bg-white divide-y divide-gray-100"></tbody></table></div> <div class="lg:hidden space-y-3"></div>',1),de=c('<div class="text-center py-8"><p class="text-gray-500">No movies found for this person.</p></div>'),pe=c('<div class="py-10"><div class="max-w-6xl mx-auto bg-white rounded-xl shadow-md p-8"><div class="flex flex-col items-center mb-6"><!> <h1 class="text-4xl font-bold text-gray-800 mb-2"> </h1> <div class="text-gray-600 text-lg mb-2"> </div> <!></div> <!></div></div>');function Ie(Rt,Nt){var vt,ut,xt,ft,mt,_t;Et(Nt,!1);const[It,Mt]=Tt(),f=parseInt(Qt(Vt,"$page",It).params.id);isNaN(f)&&$t(400,"Invalid person ID");const ot=L.filter(t=>t.person_id===f).map(t=>{const n=kt.find(l=>l.id===t.movie_id);return n?{...n,role:"Actor"}:null}).filter(t=>t!==null),lt=O.filter(t=>t.person_id===f).map(t=>{const n=kt.find(l=>l.id===t.movie_id);return n?{...n,role:"Director"}:null}).filter(t=>t!==null),w=[...ot,...lt].filter((t,n,l)=>n===l.findIndex(u=>u&&u.id===t.id)),Q=((vt=L.find(t=>t.person_id===f))==null?void 0:vt.name)||((ut=O.find(t=>t.person_id===f))==null?void 0:ut.name),dt=((xt=L.find(t=>t.person_id===f))==null?void 0:xt.profile_path)||((ft=O.find(t=>t.person_id===f))==null?void 0:ft.profile_path),T=((mt=L.find(t=>t.person_id===f))==null?void 0:mt.biography)||((_t=O.find(t=>t.person_id===f))==null?void 0:_t.biography)||"";let P=Ht(!1);Q||$t(404,`Person with ID ${f} not found`);function Y(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function V(t){const n=ot.some(u=>u.id===t),l=lt.some(u=>u.id===t);return n&&l?"Actor, Director":n?"Actor":l?"Director":"Unknown"}Ot();var W=pe(),pt=s(W),X=s(pt),ct=s(X);{var zt=t=>{var n=Wt();m(()=>{U(n,"src",`https://image.tmdb.org/t/p/w300${dt}`),U(n,"alt",Q)}),p(t,n)},At=t=>{var n=Xt();m(()=>U(n,"src",`${it??""}/default-avatar.png`)),p(t,n)};y(ct,t=>{dt?t(zt):t(At,!1)})}var Z=o(ct,2),Ft=s(Z,!0);r(Z);var tt=o(Z,2),St=s(tt);r(tt);var jt=o(tt,2);{var qt=t=>{var n=te(),l=s(n),u=s(l,!0);r(l);var z=o(l,2);{var E=A=>{var I=Zt(),G=s(I,!0);r(I),m(()=>d(G,a(P)?"Show less":"Show more")),Yt("click",I,()=>Jt(P,!a(P))),p(A,I)};y(z,A=>{i(()=>T.length>200)&&A(E)})}r(n),m(()=>{wt(l,1,Lt(a(P)?"":"bio-truncate"),"svelte-1dzqw2z"),d(u,T)}),p(t,n)},Bt=t=>{var n=ee();p(t,n)};y(jt,t=>{T?t(qt):t(Bt,!1)})}r(X);var Ct=o(X,2);{var Ut=t=>{var n=le(),l=ht(n),u=s(l),z=s(u),E=s(z),A=o(s(E),5);{var I=x=>{var e=ae();Kt(2),p(x,e)};y(A,x=>{i(()=>w.some(e=>e.budget>0||e.revenue>0))&&x(I)})}r(E),r(z);var G=o(z);bt(G,5,()=>i(()=>w.sort((x,e)=>e.year-x.year)),yt,(x,e)=>{var $=se(),k=s($),h=s(k),et=s(h,!0);r(h),r(k);var F=o(k),H=s(F,!0);r(F);var D=o(F),M=s(D),at=s(M,!0);r(M),r(D);var R=o(D),J=s(R);Dt(J,{get rating(){return a(e),i(()=>a(e).rating)},size:"sm",showNumber:!0}),r(R);var S=o(R),j=s(S);r(S);var K=o(S);{var rt=b=>{var _=re(),q=ht(_),st=s(q,!0);r(q);var v=o(q,2),g=s(v,!0);r(v),m((N,B)=>{d(st,N),d(g,B)},[()=>(a(e),i(()=>a(e).budget>0?Y(a(e).budget):"-")),()=>(a(e),i(()=>a(e).revenue>0?Y(a(e).revenue):"-"))],C),p(b,_)};y(K,b=>{i(()=>w.some(_=>_.budget>0||_.revenue>0))&&b(rt)})}r($),m((b,_)=>{U(h,"href",`${it??""}/movie/${a(e),i(()=>a(e).id)??""}`),d(et,(a(e),i(()=>a(e).name))),d(H,(a(e),i(()=>a(e).year))),wt(M,1,`inline-flex px-2 py-1 text-xs font-semibold rounded-full 
                    ${b??""}`),d(at,_),d(j,`${a(e),i(()=>a(e).runtime)??""} min`)},[()=>(a(e),i(()=>V(a(e).id).includes("Director")?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800")),()=>(a(e),i(()=>V(a(e).id)))],C),p(x,$)}),r(G),r(u),r(l);var gt=o(l,2);bt(gt,5,()=>i(()=>w.sort((x,e)=>e.year-x.year)),yt,(x,e)=>{var $=oe(),k=s($),h=s(k),et=s(h,!0);r(h);var F=o(h,2);Dt(F,{get rating(){return a(e),i(()=>a(e).rating)},size:"sm",color:"default"}),r(k);var H=o(k,2),D=s(H),M=o(s(D),2),at=s(M,!0);r(M),r(D);var R=o(D,2),J=o(s(R),2),S=s(J,!0);r(J),r(R);var j=o(R,2),K=o(s(j),2),rt=s(K);r(K),r(j);var b=o(j,2);{var _=v=>{var g=ne(),N=o(s(g),2),B=s(N,!0);r(N),r(g),m(nt=>d(B,nt),[()=>(a(e),i(()=>Y(a(e).budget)))],C),p(v,g)};y(b,v=>{a(e),i(()=>a(e).budget>0)&&v(_)})}var q=o(b,2);{var st=v=>{var g=ie(),N=o(s(g),2),B=s(N,!0);r(N),r(g),m(nt=>d(B,nt),[()=>(a(e),i(()=>Y(a(e).revenue)))],C),p(v,g)};y(q,v=>{a(e),i(()=>a(e).revenue>0)&&v(st)})}r(H),r($),m(v=>{U(h,"href",`${it??""}/movie/${a(e),i(()=>a(e).id)??""}`),d(et,(a(e),i(()=>a(e).name))),d(at,(a(e),i(()=>a(e).year))),d(S,v),d(rt,`${a(e),i(()=>a(e).runtime)??""} min`)},[()=>(a(e),i(()=>V(a(e).id)))],C),p(x,$)}),r(gt),p(t,n)},Pt=t=>{var n=de();p(t,n)};y(Ct,t=>{i(()=>w.length>0)?t(Ut):t(Pt,!1)})}r(pt),r(W),m(()=>{d(Ft,Q),d(St,`${i(()=>w.length)??""} movie${i(()=>w.length!==1?"s":"")??""} in the collection`)}),p(Rt,W),Gt(),Mt()}export{Ie as component};
